<!DOCTYPE html>
<html lang="en">

<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
    <title>D3 Test</title>
    <script src="./d3.js" charset="utf-8"></script>
    <script src="./topojson.js" charset="utf-8"></script>
</head>
<style>
    .tooltip {
        position: absolute;
        width: auto;
        height: auto;
        padding: 4px;
        font: 10px sans-serif;
        color: #fff;
        background: #333;
        -webkit-box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.8);
        -moz-box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.8);
        box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.8);
        border-radius: 4px;
        visibility: hidden;
        text-align: center;
    }
</style>

<body>
    <script type="text/javascript">
        var colorScale = d3.scaleOrdinal(d3.schemeSet1);    
        var width = 1920;
        var height = 2000;
        var scale = 100000;
        var svg = d3.select("body").append("svg")
            .attr("width", width)
            .attr("height", height);

        let projection = d3.geoMercator()
            .center([139.6, 35.5])
            .translate([width / 2, height / 2])
            .scale(scale);
        let geoGenerator = d3.geoPath().projection(projection);
        d3.json("/home/yuto/infovis/pastani/data/JR東/東日本旅客鉄道東海道線.geojson").then((data) => {
            console.log(data);
            svg.selectAll('path')
                .data(data.features)
                .enter()
                .append("path")
                .attr("d", geoGenerator)
                .attr("stroke", hoge)
                .attr("fill", "none")
                .attr("stroke-width", 1);
        });
        function hoge(d){
            return colorScale(d.properties.uri);
        }
    </script>
</body>

</html>